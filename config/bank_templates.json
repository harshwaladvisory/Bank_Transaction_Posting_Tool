{
  "version": "2.0",
  "description": "Bank statement templates - Add new banks here, no code changes needed!",
  "how_to_add_new_bank": {
    "steps": [
      "1. Add a new entry under 'banks' with unique name",
      "2. Add 'identifiers' - text that uniquely identifies this bank",
      "3. Add 'transaction_patterns' - regex patterns to extract transactions",
      "4. Add 'deposit_keywords' and 'withdrawal_keywords' for classification",
      "5. Test with a sample PDF"
    ],
    "example": "See 'CrossFirst' template below"
  },
  "banks": {
    "CrossFirst": {
      "identifiers": ["CrossFirst", "Cross First", "IntraFi Cash Service", "IntraFi Network"],
      "requires_ocr": true,
      "transaction_patterns": [
        {
          "name": "withdrawal_parens_dollar",
          "pattern": "^(\\d{1,2}/\\d{1,2}/\\d{4})\\s+(Withdrawal|WITHDRAWAL)\\s+\\(\\$([\\d,]+\\.\\d{2})\\)\\s+\\$?[\\d,]+",
          "groups": {"date": 1, "description": 2, "amount": 3},
          "type": "withdrawal"
        },
        {
          "name": "withdrawal_parens_nodollar",
          "pattern": "^(\\d{1,2}/\\d{1,2}/\\d{4})\\s+(Withdrawal|WITHDRAWAL)\\s+\\(([\\d,]+\\.\\d{2})\\)\\s+[\\d,]+",
          "groups": {"date": 1, "description": 2, "amount": 3},
          "type": "withdrawal"
        },
        {
          "name": "withdrawal_in_parens_flex",
          "pattern": "^(\\d{1,2}/\\d{1,2}/\\d{4})\\s+(.+?)\\s*\\(\\s*\\$?([\\d,]+\\.\\d{2})\\s*\\)\\s*\\$?[\\d,]+",
          "groups": {"date": 1, "description": 2, "amount": 3},
          "type": "withdrawal"
        },
        {
          "name": "deposit_no_parens",
          "pattern": "^(\\d{1,2}/\\d{1,2}/\\d{4})\\s+(.+?)\\s+([\\d,]+\\.\\d{2})\\s+[\\d,]+\\.\\d{2}\\s*$",
          "groups": {"date": 1, "description": 2, "amount": 3},
          "type": "auto"
        }
      ],
      "date_format": "MM/DD/YYYY",
      "ocr_fixes": {
        "date_day_90_offset": true
      },
      "deposit_keywords": ["INTEREST", "DEPOSIT", "CREDIT", "CAPITALIZATION"],
      "withdrawal_keywords": ["WITHDRAWAL", "FEE", "DEBIT"],
      "skip_patterns": ["Summary of Accounts", "Account ID", "Opening Balance", "Ending Balance", "DETAILED ACCOUNT", "Member FDIC", "IntraFi Cash Service"],
      "balance_validation": {
        "opening_pattern": "Opening\\s*Balance[:\\s]*\\$?([\\d,]+\\.\\d{2})",
        "ending_pattern": "Ending\\s*Balance[:\\s]*\\$?([\\d,]+\\.\\d{2})"
      }
    },
    "PNC": {
      "identifiers": ["PNC Bank", "PNC", "pnc.com", "Non-Profit Checking"],
      "requires_ocr": true,
      "sections": {
        "deposits": {
          "start_markers": ["ACH Additions", "Other Additions"],
          "end_markers": ["ACH Deductions", "Service Charges", "Daily Balance", "Checks and Other Deductions"]
        },
        "withdrawals": {
          "start_markers": ["ACH Deductions", "Service Charges and Fees", "Checks and Other Deductions"],
          "end_markers": ["Daily Balance", "Detail of Services", "YOUR CARD PROCESSING", "Activity Detail"]
        }
      },
      "skip_patterns": ["Daily Balance", "YOUR CARD PROCESSING STATEMENT", "Balance Summary", "Ledger balance", "Date Ledger"],
      "transaction_pattern": "^(\\d{1,2}/\\d{1,2})\\s+([\\d,]+\\.\\d{2})\\s+(.+)",
      "date_format": "MM/DD",
      "summary_patterns": {
        "total_deposits": "Total\\s+\\d+\\s+([\\d,]+\\.\\d{2})\\s*\\|",
        "total_withdrawals": "\\|\\s*Total\\s+\\d+\\s+([\\d,]+\\.\\d{2})"
      },
      "deposit_keywords": ["DEPOSIT", "INTEREST", "CREDIT", "HUD", "TREAS"],
      "withdrawal_keywords": ["CHECK", "DEBIT", "WITHDRAWAL", "FEE", "PAYROLL"]
    },
    "Sovereign": {
      "identifiers": ["Sovereign Bank", "Sovereign", "banksovereign.com", "BUSINESS INTEREST"],
      "requires_ocr": true,
      "transaction_patterns": [
        {
          "name": "standard",
          "pattern": "^(\\d{1,2}/\\d{1,2}/\\d{4})\\s+((?:CHECK\\s*#?\\s*\\d+|DEPOSIT|INTEREST))\\s+\\$([\\d,\\s]+\\.\\d{2})\\s+\\$",
          "groups": {"date": 1, "description": 2, "amount": 3},
          "type": "auto"
        }
      ],
      "date_format": "MM/DD/YYYY",
      "summary_patterns": {
        "total_deposits": "(\\d+)\\s+Credit\\(?s?\\)?\\s+This\\s+Period\\s+\\$?([\\d,]+\\.?\\d*)",
        "total_withdrawals": "(\\d+)\\s+Debit\\(?s?\\)?\\s+This\\s+Period\\s+\\$?([\\d,]+\\.?\\d*)"
      },
      "deposit_keywords": ["DEPOSIT", "INTEREST", "CREDIT"],
      "withdrawal_keywords": ["CHECK", "DEBIT", "WITHDRAWAL"],
      "skip_patterns": ["Beginning Balance", "Ending Balance", "Interest Earned From"]
    },
    "Truist": {
      "identifiers": ["TRUIST", "Truist Bank", "truist.com", "SunTrust", "BB&T"],
      "requires_ocr": true,
      "sections": {
        "deposits": {
          "start_markers": ["DATE DESCRIPTION AMOUNT($)", "Total deposits, credits"],
          "end_markers": ["Important:", "PAGE", "Questions"]
        },
        "withdrawals": {
          "start_markers": ["Other withdrawals, debits and service charges", "DATE CHECK #", "DATE DESCRIPTION AMOUNT(S)"],
          "end_markers": ["Total other withdrawals", "Deposits, credits and interest"]
        },
        "checks": {
          "start_markers": ["DATE CHECK #"],
          "end_markers": ["Other withdrawals", "Total checks"]
        }
      },
      "transaction_patterns": [
        {
          "name": "check_multicolumn",
          "pattern": "^(\\d{1,2}/\\d{1,2})\\s+\\*?(\\d{4,10})\\s+([\\d,]+\\.\\d{2})",
          "groups": {"date": 1, "description": 2, "amount": 3},
          "type": "withdrawal",
          "prefix": "CHECK #"
        },
        {
          "name": "ach_withdrawal",
          "pattern": "^(\\d{1,2}/\\d{1,2})\\s+(ACH\\s*CORP\\s*DEBIT.+?)\\s+([\\d,]+\\.\\d{2})\\s*$",
          "groups": {"date": 1, "description": 2, "amount": 3},
          "type": "withdrawal"
        },
        {
          "name": "transfer_withdrawal",
          "pattern": "^(\\d{1,2}/\\d{1,2})\\s+(TELEPHONE TRANSFER.+?)\\s+([\\d,]+\\.\\d{2})",
          "groups": {"date": 1, "description": 2, "amount": 3},
          "type": "withdrawal"
        },
        {
          "name": "deposit_line",
          "pattern": "^(\\d{1,2}/\\d{1,2})\\s+(DEPOSIT|Wixcom.+?)\\s+([\\d,]+\\.\\d{2})",
          "groups": {"date": 1, "description": 2, "amount": 3},
          "type": "deposit"
        },
        {
          "name": "standard_with_amount",
          "pattern": "^(\\d{1,2}/\\d{1,2})\\s+(.+?)\\s+([\\d,]+\\.\\d{2})\\s*$",
          "groups": {"date": 1, "description": 2, "amount": 3},
          "type": "auto"
        }
      ],
      "skip_patterns": ["Daily Balance", "Account Summary", "Previous Balance", "New Balance", "Page", "continued", "Your previous balance", "Your new balance", "Deposits, credits and interest ;", "Checks -", "Other withdrawals, debits and service charges -", "Total deposits", "Total checks", "Total other"],
      "transaction_pattern": "^(\\d{1,2}/\\d{1,2})\\s+(.+?)\\s+([\\d,]+\\.\\d{2})$",
      "date_format": "MM/DD",
      "summary_patterns": {
        "total_deposits": "Total deposits[^=]*=\\s*\\$?([\\d,]+\\.\\d{2})",
        "total_withdrawals": "Total other withdrawals[^=]*=\\s*\\$?([\\d,]+\\.\\d{2})",
        "total_checks": "Total checks\\s*=\\s*\\$?([\\d,]+\\.\\d{2})"
      },
      "deposit_keywords": ["DEPOSIT", "INTEREST", "CREDIT", "ACH CREDIT", "TRANSFER FROM", "MOBILE DEPOSIT", "Wixcom"],
      "withdrawal_keywords": ["CHECK", "DEBIT", "WITHDRAWAL", "FEE", "PAYROLL", "ACH CORP DEBIT", "INTUIT", "SERVICE CHARGE", "Bill.com", "TAX PYMT", "TELEPHONE TRANSFER"]
    },
    "Chase": {
      "identifiers": ["Chase", "JPMorgan Chase", "chase.com"],
      "requires_ocr": false,
      "sections": {
        "deposits": {
          "start_markers": ["Deposits and Additions", "DEPOSITS"],
          "end_markers": ["Electronic Withdrawals", "Checks Paid"]
        },
        "withdrawals": {
          "start_markers": ["Electronic Withdrawals", "Checks Paid", "ATM & Debit Card"],
          "end_markers": ["Daily Ending Balance", "Service Charges"]
        }
      },
      "skip_patterns": ["Daily Ending Balance"],
      "transaction_pattern": "^(\\d{1,2}/\\d{1,2})\\s+(.+?)\\s+([\\d,]+\\.\\d{2})$",
      "date_format": "MM/DD",
      "deposit_keywords": ["DEPOSIT", "INTEREST", "CREDIT"],
      "withdrawal_keywords": ["CHECK", "DEBIT", "WITHDRAWAL", "FEE", "PAYMENT"]
    },
    "Bank of America": {
      "identifiers": ["Bank of America", "BofA", "bankofamerica.com"],
      "requires_ocr": false,
      "sections": {
        "deposits": {
          "start_markers": ["Deposits and other credits", "DEPOSITS"],
          "end_markers": ["Withdrawals and other debits", "Checks"]
        },
        "withdrawals": {
          "start_markers": ["Withdrawals and other debits", "Checks"],
          "end_markers": ["Daily ledger balance", "Service charges"]
        }
      },
      "skip_patterns": ["Daily ledger balance"],
      "transaction_pattern": "^(\\d{1,2}/\\d{1,2})\\s+(.+?)\\s+([\\d,]+\\.\\d{2})$",
      "date_format": "MM/DD",
      "deposit_keywords": ["DEPOSIT", "INTEREST", "CREDIT"],
      "withdrawal_keywords": ["CHECK", "DEBIT", "WITHDRAWAL", "FEE"]
    },
    "Wells Fargo": {
      "identifiers": ["Wells Fargo", "wellsfargo.com"],
      "requires_ocr": false,
      "sections": {
        "deposits": {
          "start_markers": ["Deposits/Credits", "Deposits"],
          "end_markers": ["Withdrawals/Debits", "Checks Paid"]
        },
        "withdrawals": {
          "start_markers": ["Withdrawals/Debits", "Checks Paid"],
          "end_markers": ["Daily Balance Summary", "Ending balance"]
        }
      },
      "skip_patterns": ["Daily Balance Summary"],
      "transaction_pattern": "^(\\d{1,2}/\\d{1,2})\\s+(.+?)\\s+([\\d,]+\\.\\d{2})$",
      "date_format": "MM/DD",
      "deposit_keywords": ["DEPOSIT", "INTEREST", "CREDIT"],
      "withdrawal_keywords": ["CHECK", "DEBIT", "WITHDRAWAL", "FEE"]
    },
    "Farmers": {
      "identifiers": ["FARMERS BANK", "Farmers Bank", "farmersbankok.com", "Carnegie, OK 73015", "NUMBERED CHECKS"],
      "requires_ocr": true,
      "custom_parser": "farmers",
      "sections": {
        "activity": {
          "start_markers": ["BUSINESS ACCOUNT", "PREVIOUS BALANCE"],
          "end_markers": ["NUMBERED CHECKS", "DAILY BALANCE INFORMATION"]
        },
        "checks": {
          "start_markers": ["NUMBERED CHECKS"],
          "end_markers": ["DAILY BALANCE INFORMATION", "HOW TO RECONCILE"]
        }
      },
      "ignore_sections": [
        "DAILY BALANCE INFORMATION",
        "HOW TO RECONCILE YOUR CHECKING ACCOUNT",
        "CHECKS OUTSTANDING",
        "IMPORTANT:",
        "DISCLOSURES"
      ],
      "check_image_indicators": [
        "AUTHORIZED SIGNATURE",
        "ENDORSE HERE",
        "FOR MOBILE DEPOSIT"
      ],
      "transaction_patterns": [
        {
          "name": "activity_line",
          "pattern": "^(\\d{1,2}/\\d{1,2})\\s+([\\d,]+\\.\\d{2})\\s+(DEPOSIT|SERVICE FEE|INTEREST|CHARGE|CREDIT)",
          "groups": {"date": 1, "amount": 2, "description": 3},
          "type": "auto"
        },
        {
          "name": "numbered_check",
          "pattern": "(\\d{4})\\*?\\s*(\\d{1,2}/\\d{1,2})\\s+([\\d,]+\\.\\d{2})",
          "groups": {"check_num": 1, "date": 2, "amount": 3},
          "type": "withdrawal",
          "prefix": "CHECK #"
        }
      ],
      "date_format": "MM/DD",
      "deposit_keywords": ["DEPOSIT", "INTEREST", "CREDIT"],
      "withdrawal_keywords": ["CHECK", "SERVICE FEE", "FEE", "CHARGE", "DEBIT"],
      "skip_patterns": ["DAILY BALANCE", "HOW TO RECONCILE", "CHECKS OUTSTANDING", "DISCLOSURES", "Choice of Law", "Balance Date"]
    }
  },
  "default_gl_mappings": {
    "deposits": {
      "HUD": {"gl": "3001", "fund": "NAHASDA", "confidence": "high"},
      "NAHASDA": {"gl": "3001", "fund": "NAHASDA", "confidence": "high"},
      "Blue Cross": {"gl": "4080", "fund": "BCBS", "confidence": "high"},
      "BCBS": {"gl": "4080", "fund": "BCBS", "confidence": "high"},
      "Delta Dental": {"gl": "4080", "fund": "Health", "confidence": "high"},
      "Merchant Deposit": {"gl": "4380", "fund": "General", "confidence": "medium"},
      "DEPOSIT": {"gl": "4100", "fund": "General", "confidence": "low"},
      "INTEREST": {"gl": "9010", "fund": "General", "confidence": "high"},
      "Transfer": {"gl": "1010", "fund": "General", "confidence": "medium"}
    },
    "withdrawals": {
      "PAYROLL": {"gl": "6600", "fund": "General", "confidence": "high"},
      "ADP": {"gl": "6600", "fund": "General", "confidence": "high"},
      "INTUIT": {"gl": "6600", "fund": "General", "confidence": "high"},
      "IRS": {"gl": "6700", "fund": "General", "confidence": "high"},
      "EFTPS": {"gl": "6700", "fund": "General", "confidence": "high"},
      "TAX": {"gl": "6700", "fund": "General", "confidence": "medium"},
      "FEE": {"gl": "6100", "fund": "General", "confidence": "high"},
      "SERVICE CHARGE": {"gl": "6100", "fund": "General", "confidence": "high"},
      "SERVICE FEE": {"gl": "6100", "fund": "General", "confidence": "high"},
      "CHECK": {"gl": "2000", "fund": "General", "confidence": "low"},
      "GFL": {"gl": "5950", "fund": "Indirect", "confidence": "high"},
      "WASTE": {"gl": "5950", "fund": "Indirect", "confidence": "high"},
      "PROSHRED": {"gl": "5810", "fund": "Indirect", "confidence": "high"},
      "QUALITY OFFICE": {"gl": "5380", "fund": "General", "confidence": "high"}
    }
  },
  "max_transaction_amount": 10000000,
  "default_year": 2025
}
